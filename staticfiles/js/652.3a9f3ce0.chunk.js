"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[652],{7491:(e,t,s)=>{s.d(t,{A:()=>o});s(5043);var r=s(7417),a=s(579);const o=function(){return(0,a.jsx)(r.A,{animation:"grow",size:"sm",role:"status",style:{height:"100px",width:"100px",margin:"auto",display:"block",backgroundColor:"#7c65a9"},children:(0,a.jsx)("span",{className:"sr-only",children:"Loading..."})})}},5505:(e,t,s)=>{s.d(t,{A:()=>o});s(5043);var r=s(3590),a=s(579);const o=function(e){let{variant:t,children:s}=e;return(0,a.jsx)(r.A,{variant:t,style:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",zIndex:1e3,minWidth:"300px",textAlign:"center"},children:s})}},9652:(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var r=s(5043),a=s(4897),o=s(3003),c=s(2134),d=s(2168),i=s(3613),l=s(970),n=s(4159),u=s(7446),g=s(7577),h=s(7491),p=s(5505),m=s(1966),x=s(579);const j=()=>{var e;let{id:t}=(0,c.g)();const[s,j]=(0,r.useState)("grid three-column"),[v,P]=(0,r.useState)("category"),[y,b]=(0,r.useState)(t),[C,f]=(0,r.useState)(0),[N,S]=(0,r.useState)(1),[T,w]=(0,r.useState)(0),[L,A]=(0,r.useState)(0),{data:k,isLoading:q,isError:F,error:E}=(0,m.Fc)(t);console.log("Sorted Products: ",k);const{products:I}=(0,o.d4)((e=>e.product));let{pathname:Q}=(0,c.zy)();const H=(e,t)=>{P(e),b(t)};return(0,r.useEffect)((()=>{k&&w(k.length),I&&A(I.length)}),[k,q,E]),console.log("Count: ",I),(0,x.jsxs)(r.Fragment,{children:[(0,x.jsx)(d.A,{titleTemplate:"The Cage Product Catalog",description:"The Cage SShop Product Catalog."}),(0,x.jsxs)(i.A,{headerTop:"visible",children:[(0,x.jsx)(l.A,{pages:[{label:"Home",path:"/"},{label:"Shop",path:""+Q}],backgroundImage:"https://the-cage-online-assets.s3.us-west-1.amazonaws.com/build/breadcrumb-light.png"}),(0,x.jsx)("div",{className:"shop-area pt-95 pb-100",children:(0,x.jsx)("div",{className:"container",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-lg-3 order-2 order-lg-1",children:(0,x.jsx)(n.A,{products:I,getSortParams:H,sideSpaceClass:"mr-30"})}),(0,x.jsxs)("div",{className:"col-lg-9 order-1 order-lg-2",children:[(0,x.jsx)(u.A,{getLayout:e=>{j(e)},getFilterSortParams:H,productCount:L,sortedProductCount:T}),F&&(0,x.jsx)(p.A,{variant:"danger",children:(null===E||void 0===E||null===(e=E.data)||void 0===e?void 0:e.detail)||E.error}),q&&(0,x.jsx)(h.A,{}),(0,x.jsx)(g.A,{layout:s,products:k}),(0,x.jsx)("div",{className:"pro-pagination-style text-center mt-30",children:(0,x.jsx)(a.A,{totalRecords:L,pageLimit:15,pageNeighbours:2,setOffset:f,currentPage:N,setCurrentPage:S,pageContainerClass:"mb-0 mt-0",pagePrevText:"\xab",pageNextText:"\xbb"})})]})]})})})]})]})}},1966:(e,t,s)=>{s.d(t,{Fc:()=>c,WI:()=>a});const r=s(6749).l.injectEndpoints({endpoints:e=>({listProducts:e.query({query:()=>"products/",providesTags:["Product"]}),listProductsByCategory:e.query({query:e=>"products/category/".concat(e,"/"),providesTags:["Product"]}),listProductsByTag:e.query({query:e=>"products/tag/".concat(e,"/"),providesTags:["Product"]}),listTopProducts:e.query({query:()=>"products/top/",providesTags:["Product"]}),getProduct:e.query({query:e=>"products/".concat(e,"/"),providesTags:(e,t,s)=>[{type:"Product",id:s}]}),getProducts:e.query({query:e=>"products/query/".concat(e,"/"),providesTags:["Product"]}),deleteProduct:e.mutation({query:e=>({url:"products/delete/".concat(e,"/"),method:"DELETE"}),invalidatesTags:["Product"]}),createProduct:e.mutation({query:()=>({url:"products/create/",method:"POST",body:{}}),invalidatesTags:["Product"]}),updateProduct:e.mutation({query:e=>({url:"products/update/".concat(e.id,"/"),method:"PUT",body:e}),invalidatesTags:(e,t,s)=>[{type:"Product",id:s.id}]}),createProductReview:e.mutation({query:e=>{let{productId:t,review:s}=e;return{url:"products/".concat(t,"/reviews/"),method:"POST",body:s}},invalidatesTags:(e,t,s)=>{let{productId:r}=s;return[{type:"Product",id:r}]}})})}),{useListProductsQuery:a,useListProductsByCategoryQuery:o,useListProductsByTagQuery:c,useListTopProductsQuery:d,useGetProductQuery:i,useGetProductsQuery:l,useDeleteProductMutation:n,useCreateProductMutation:u,useUpdateProductMutation:g,useCreateProductReviewMutation:h}=r},4159:(e,t,s)=>{s.d(t,{A:()=>g});var r=s(8387),a=s(2821),o=s(5043),c=s(2134),d=s(1966),i=s(579);const l=()=>{const[e,t]=(0,o.useState)(""),s=(0,c.Zp)();return(0,i.jsxs)("div",{className:"sidebar-widget",children:[(0,i.jsx)("h4",{className:"pro-sidebar-title",children:"Search "}),(0,i.jsx)("div",{className:"pro-sidebar-search mb-50 mt-25",children:(0,i.jsxs)("form",{className:"pro-sidebar-search-form",onSubmit:t=>{t.preventDefault();const{data:r,isLoading:a,error:o}=(0,d.Fc)(e);return a?(0,i.jsx)("div",{children:"Loading..."}):o?(0,i.jsxs)("div",{children:["Error: ",o.message]}):void s("/shop-filtered-grid/".concat(r))},children:[(0,i.jsx)("input",{type:"text",placeholder:"Search here...",value:e,onChange:e=>t(e.target.value)}),(0,i.jsx)("button",{type:"submit",children:(0,i.jsx)("i",{className:"pe-7s-search"})})]})})]})},n=e=>{let{categories:t,getSortParams:s}=e;return(0,i.jsxs)("div",{className:"sidebar-widget",children:[(0,i.jsx)("h4",{className:"pro-sidebar-title",children:"Categories "}),(0,i.jsx)("div",{className:"sidebar-widget-list mt-30",children:t?(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)("div",{className:"sidebar-widget-list-left",children:(0,i.jsxs)("button",{onClick:e=>{s("category",""),(0,a.nL)(e)},children:[(0,i.jsx)("span",{className:"checkmark"})," All Categories"]})})}),t.map(((e,t)=>(0,i.jsx)("li",{children:(0,i.jsx)("div",{className:"sidebar-widget-list-left",children:(0,i.jsxs)("button",{onClick:t=>{s("category",e),(0,a.nL)(t)},children:[" ",(0,i.jsx)("span",{className:"checkmark"})," ",e," "]})})},t)))]}):"No categories found"})]})},u=e=>{let{tags:t,getSortParams:s}=e;const r=(0,c.Zp)(),[d,l]=(0,o.useState)("");return(0,o.useEffect)((()=>{d&&r("/shop-catalog/".concat(d))}),[d]),(0,i.jsxs)("div",{className:"sidebar-widget mt-50",children:[(0,i.jsx)("h4",{className:"pro-sidebar-title",children:"Tag "}),(0,i.jsx)("div",{className:"sidebar-widget-tag mt-25",children:t?(0,i.jsx)("ul",{children:t.map(((e,t)=>(0,i.jsx)("li",{children:(0,i.jsx)("button",{onClick:t=>{s("tag",e),(0,a.nL)(t),l(e)},children:e})},t)))}):"No tags found"})]})},g=e=>{let{products:t,getSortParams:s,sideSpaceClass:o}=e;const c=(0,a.SC)(t),d=(0,a.VI)(t);return(0,i.jsxs)("div",{className:(0,r.A)("sidebar-style",o),children:[(0,i.jsx)(l,{}),(0,i.jsx)(n,{categories:c,getSortParams:s}),(0,i.jsx)(u,{tags:d,getSortParams:s})]})}},7446:(e,t,s)=>{s.d(t,{A:()=>d});var r=s(5043),a=s(2821),o=s(579);const c=e=>{let{getLayout:t,getFilterSortParams:s,productCount:r,sortedProductCount:c}=e;return(0,o.jsxs)("div",{className:"shop-top-bar mb-35",children:[(0,o.jsxs)("div",{className:"select-shoing-wrap",children:[(0,o.jsx)("div",{className:"shop-select",children:(0,o.jsxs)("select",{onChange:e=>s("filterSort",e.target.value),children:[(0,o.jsx)("option",{value:"default",children:"Default"}),(0,o.jsx)("option",{value:"priceHighToLow",children:"Price - High to Low"}),(0,o.jsx)("option",{value:"priceLowToHigh",children:"Price - Low to High"})]})}),(0,o.jsxs)("p",{children:["Showing ",c," of ",r," result"]})]}),(0,o.jsxs)("div",{className:"shop-tab",children:[(0,o.jsx)("button",{onClick:e=>{t("grid two-column"),(0,a.L)(e)},children:(0,o.jsx)("i",{className:"fa fa-th-large"})}),(0,o.jsx)("button",{onClick:e=>{t("grid three-column"),(0,a.L)(e)},children:(0,o.jsx)("i",{className:"fa fa-th"})}),(0,o.jsx)("button",{onClick:e=>{t("list"),(0,a.L)(e)},children:(0,o.jsx)("i",{className:"fa fa-list-ul"})})]})]})},d=e=>{let{getLayout:t,getFilterSortParams:s,productCount:a,sortedProductCount:d}=e;return(0,o.jsx)(r.Fragment,{children:(0,o.jsx)(c,{getLayout:t,getFilterSortParams:s,productCount:a,sortedProductCount:d})})}}}]);
//# sourceMappingURL=652.3a9f3ce0.chunk.js.map