"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[796],{3295:(e,t,s)=>{s(5043),s(579)},7491:(e,t,s)=>{s.d(t,{A:()=>n});s(5043);var a=s(7417),o=s(579);const n=function(){return(0,o.jsx)(a.A,{animation:"grow",size:"sm",role:"status",style:{height:"100px",width:"100px",margin:"auto",display:"block",backgroundColor:"#7c65a9"},children:(0,o.jsx)("span",{className:"sr-only",children:"Loading..."})})}},5505:(e,t,s)=>{s.d(t,{A:()=>n});s(5043);var a=s(3590),o=s(579);const n=function(e){let{variant:t,children:s}=e;return(0,o.jsx)(a.A,{variant:t,style:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",zIndex:1e3,minWidth:"300px",textAlign:"center"},children:s})}},8149:(e,t,s)=>{s.d(t,{A:()=>m});var a=s(5043),o=s(2939),n=s(2134),r=s(246),i=s(3003),l=s(579);const d=e=>{const[t,s]=(0,a.useState)("alert");return(0,l.jsx)("div",{className:t,children:(0,l.jsxs)("div",{className:"d-flex",children:[(0,l.jsx)("div",{className:"toast-body",children:e.message}),(0,l.jsx)("div",{className:"button btn-close me-2 m-auto",type:"button",onClick:()=>{s("alert d-none"),e.closeAlert()}})]})})};var u=s(3167),c=s(8684),h=s(7488);s(2342);const m=e=>{let{children:t}=e,s=(0,n.zy)();const m=(0,i.wA)(),g=(0,i.d4)((e=>e.auth.userInfo)),p=(0,i.d4)((e=>e.auth.message)),b=(0,i.d4)((e=>e.auth.token)),[j]=((0,i.d4)((e=>e.auth.isAuthenticated)),(0,o.Iq)()),{data:x}=(0,o.vf)(),[f]=(0,o.PI)();return(0,a.useEffect)((()=>{const e=r.A.parse(s.search).code;e?m(f(e)):g&&m(j(b))}),[s]),(0,l.jsxs)(a.Fragment,{children:[(0,l.jsx)(u.A,{headerTop:"visible",top:"",headerPaddingClass:"",headerPositionClass:""}),(0,l.jsx)(h.N9,{position:"top-right"}),p?(0,l.jsx)(d,{message:p}):null,t,(0,l.jsx)(c.A,{backgroundColorClass:"footer-white",spaceLeftClass:"ml-70",spaceRightClass:"mr-70",footerTopBackgroundColorClass:"bg-gray-2",footerTopSpaceTopClass:"pt-80",footerTopSpaceBottomClass:"pb-60",copyrightColorClass:"copyright-white",footerLogo:"https://the-cage-online-assets.s3.us-west-1.amazonaws.com/build/logo_no_pad.png"})]})}},9066:(e,t,s)=>{s.r(t),s.d(t,{default:()=>p});var a=s(9379),o=s(5043),n=s(2134),r=s(3003),i=s(3519),l=(s(7491),s(5505),s(3295),s(2168)),d=s(8149),u=s(970),c=s(2939),h=s(87),m=s(7488),g=(s(2342),s(579));const p=()=>{const{pathname:e}=(0,n.zy)(),t=(0,n.Zp)(),s=(0,r.wA)(),p=(0,r.d4)((e=>e.auth.userInfo)),b=(0,r.d4)((e=>e.auth.isAuthenticated)),[j,{isLoading:x,error:f,isError:y}]=(0,c._L)(),[v,A]=(0,o.useState)({email:"",password:""}),{email:w,password:N}=v,T=e=>A((0,a.A)((0,a.A)({},v),{},{[e.target.name]:e.target.value}));(0,o.useEffect)((()=>{p&&t("/home")}),[p,t]);return b?(0,g.jsx)(n.C5,{to:"../"}):(0,g.jsxs)(o.Fragment,{children:[(0,g.jsx)(l.A,{titleTemplate:"Login",description:"Login page of The Cage SShop Online | Vape and Smoke Accessories."}),(0,g.jsx)(m.N9,{position:"top-right"}),(0,g.jsxs)(d.A,{children:[(0,g.jsx)(u.A,{pages:[{label:"Home",path:"/"},{label:"Login",path:""+e}],backgroundImage:"https://the-cage-online-assets.s3.us-west-1.amazonaws.com/build/breadcrumb-light.png"}),(0,g.jsx)(i.A,{className:"py-4 login-form-container",children:(0,g.jsxs)("div",{className:"main-box",children:[(0,g.jsx)("h2",{className:"text-center mb-4",children:"Login"}),(0,g.jsxs)("form",{className:"mb-3",onSubmit:e=>(async e=>{e.preventDefault();try{const e=await j(v).unwrap();console.log("User Login Success!!",e),s((0,h.iA)(e)),f&&m.oR.success("Login Failed. ")}catch(t){console.error("Failed to login:",t)}})(e),children:[(0,g.jsxs)("div",{className:"mb-3",children:[(0,g.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),(0,g.jsx)("input",{name:"email",value:w,onChange:e=>T(e),type:"email",className:"form-control",id:"email",placeholder:"name@example.com"})]}),(0,g.jsxs)("div",{className:"mb-3",children:[(0,g.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),(0,g.jsx)("input",{name:"password",value:N,onChange:e=>T(e),type:"password",className:"form-control",id:"password",placeholder:"password ..."})]}),(0,g.jsx)("div",{className:"d-grid gap-2",children:(0,g.jsx)("button",{className:"btn login-button",type:"submit",children:"Login"})}),(0,g.jsx)("div",{className:"d-grid gap-2 mt-2",children:(0,g.jsx)("button",{className:"btn login-button",type:"button",onClick:()=>{window.location.replace("https://accounts.google.com/o/oauth2/v2/auth?redirect_uri=".concat("http://localhost:3000/","&prompt=consent&response_type=code&client_id=").concat("822106881022-g7r071bn33v71g7gdqtp4shc0vjfp0of.apps.googleusercontent.com","&scope=openid%20email%20profile&access_type=offline"))},children:"Login With Google"})})]}),(0,g.jsxs)("p",{className:"text-light",children:["Forgot your password?"," ",(0,g.jsx)(n.N_,{className:"login-link",to:"../reset/password/",children:"Reset Password"})]}),(0,g.jsxs)("p",{className:"text-light",children:["Don't have any account?"," ",(0,g.jsx)(n.N_,{className:"login-link",to:"../register",children:"Signup"})]})]})})]})]})}},2939:(e,t,s)=>{s.d(t,{Iq:()=>n,Lj:()=>m,Lv:()=>h,PI:()=>g,SV:()=>l,UL:()=>c,_L:()=>o,ge:()=>u,vf:()=>r});const a=s(6749).l.injectEndpoints({endpoints:e=>({login:e.mutation({query:e=>({url:"auth/dj-rest-auth/login/",method:"POST",body:e})}),verify:e.mutation({query:e=>({url:"auth/dj-rest-auth/token/verify/",method:"POST",body:{token:e}}),invalidatesTags:["Auth"]}),getUser:e.query({query:()=>"auth/dj-rest-auth/user/",providesTags:["Auth"]}),refresh:e.mutation({query:()=>({url:"auth/dj-rest-auth/token/refresh/",method:"POST"}),invalidatesTags:["Auth"]}),changePassword:e.mutation({query:e=>({url:"auth/dj-rest-auth/password/change/",method:"POST",body:e}),invalidatesTags:["Auth"]}),logout:e.mutation({query:()=>({url:"auth/dj-rest-auth/logout/",method:"POST"}),invalidatesTags:["Auth"]}),register:e.mutation({query:e=>({url:"auth/dj-rest-auth/registration/",method:"POST",body:e}),invalidatesTags:["Auth"]}),emailVerification:e.mutation({query:e=>({url:"auth/dj-rest-auth/registration/verify-email/",method:"POST",body:{key:e}}),invalidatesTags:["Auth"]}),resetPassword:e.mutation({query:e=>({url:"auth/dj-rest-auth/password/reset/",method:"POST",body:{email:e}}),invalidatesTags:["Auth"]}),resetPasswordConfirm:e.mutation({query:e=>({url:"auth/dj-rest-auth/password/reset/confirm/",method:"POST",body:e}),invalidatesTags:["Auth"]}),googleLogin:e.mutation({query:e=>({url:"auth/dj-rest-auth/google/",method:"POST",body:{code:e}}),invalidatesTags:["Auth"]}),facebookLogin:e.mutation({query:e=>({url:"auth/dj-rest-auth/facebook/",method:"POST",body:{code:e}}),invalidatesTags:["Auth"]})})}),{useLoginMutation:o,useVerifyMutation:n,useGetUserQuery:r,useRefreshMutation:i,useChangePasswordMutation:l,useLogoutMutation:d,useRegisterMutation:u,useEmailVerificationMutation:c,useResetPasswordMutation:h,useResetPasswordConfirmMutation:m,useGoogleLoginMutation:g,useFacebookLoginMutation:p}=a},970:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(9397),o=s(2134),n=s(579);const r=e=>{let{pages:t,backgroundImage:s}=e;return(0,n.jsx)("div",{className:"breadcrumb-area pt-120 pb-120 bg-gray-3 bg-img",style:{backgroundImage:" ".concat(s?"url(".concat(""+s,")"):"url()")},children:(0,n.jsx)("div",{className:"container",children:(0,n.jsx)(a.A,{children:null===t||void 0===t?void 0:t.map(((e,s)=>{let{path:r,label:i}=e;return s!==t.length-1?(0,n.jsx)(a.A.Item,{linkProps:{to:r},linkAs:o.N_,children:i},i):(0,n.jsx)(a.A.Item,{active:!0,children:i},i)}))})})})}}}]);
//# sourceMappingURL=796.501a9112.chunk.js.map