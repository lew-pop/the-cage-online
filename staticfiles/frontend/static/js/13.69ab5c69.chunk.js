"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[13],{8149:(e,t,a)=>{a.d(t,{A:()=>m});var s=a(5043),o=a(2939),r=a(2134),i=a(246),n=a(3003),l=a(579);const u=e=>{const[t,a]=(0,s.useState)("alert");return(0,l.jsx)("div",{className:t,children:(0,l.jsxs)("div",{className:"d-flex",children:[(0,l.jsx)("div",{className:"toast-body",children:e.message}),(0,l.jsx)("div",{className:"button btn-close me-2 m-auto",type:"button",onClick:()=>{a("alert d-none"),e.closeAlert()}})]})})};var d=a(3167),h=a(8684),c=a(7488);a(2342);const m=e=>{let{children:t}=e,a=(0,r.zy)();const m=(0,n.wA)(),g=(0,n.d4)((e=>e.auth.userInfo)),p=(0,n.d4)((e=>e.auth.message)),b=(0,n.d4)((e=>e.auth.token)),[y]=((0,n.d4)((e=>e.auth.isAuthenticated)),(0,o.Iq)()),{data:j}=(0,o.vf)(),[f]=(0,o.PI)();return(0,s.useEffect)((()=>{const e=i.A.parse(a.search).code;e?m(f(e)):g&&m(y(b))}),[a]),(0,l.jsxs)(s.Fragment,{children:[(0,l.jsx)(d.A,{headerTop:"visible",top:"",headerPaddingClass:"",headerPositionClass:""}),(0,l.jsx)(c.N9,{position:"top-right"}),p?(0,l.jsx)(u,{message:p}):null,t,(0,l.jsx)(h.A,{backgroundColorClass:"footer-white",spaceLeftClass:"ml-70",spaceRightClass:"mr-70",footerTopBackgroundColorClass:"bg-gray-2",footerTopSpaceTopClass:"pt-80",footerTopSpaceBottomClass:"pb-60",copyrightColorClass:"copyright-white",footerLogo:"https://the-cage-online-assets.s3.us-west-1.amazonaws.com/build/logo_no_pad.png"})]})}},5869:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var s=a(9379),o=a(5043),r=a(2134),i=a(3003),n=a(3519),l=a(2939),u=a(8149),d=a(2168),h=a(970),c=a(87),m=a(579);const g=()=>{const{pathname:e}=(0,r.zy)(),t=((0,r.Zp)(),(0,i.wA)()),[a,g]=(0,o.useState)(!1),[p,b]=(0,o.useState)({email:""}),{email:y}=p,[j,{isLoading:f,error:v,isError:x}]=(0,l.Lv)();return a?(0,m.jsx)(r.C5,{to:"../"}):(0,m.jsxs)(o.Fragment,{children:[(0,m.jsx)(d.A,{titleTemplate:"Login",description:"Login page of The Cage SShop Online | Vape and Smoke Accessories."}),(0,m.jsxs)(u.A,{children:[(0,m.jsx)(h.A,{pages:[{label:"Home",path:"/"},{label:"Login",path:""+e}],backgroundImage:"https://the-cage-online-assets.s3.us-west-1.amazonaws.com/build/breadcrumb-light.png"}),(0,m.jsx)(n.A,{className:"py-4 login-form-container",children:(0,m.jsxs)("div",{className:"main-box",children:[(0,m.jsx)("h2",{className:"text-center mb-4",children:"Reset Password"}),(0,m.jsx)("h5",{className:"text-center mb-4",children:"Please input your registered email. The link for set your new password will be stent into your email"}),(0,m.jsxs)("form",{className:"mb-3",onSubmit:e=>(async e=>{e.preventDefault();try{const e=await j(p);console.log("Password reset Success!!",e)}catch(a){t((0,c.yH)("Login has failed.",a)),console.error("Failed to login:",a)}g(!0)})(e),children:[(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),(0,m.jsx)("input",{name:"email",value:y,onChange:e=>(e=>b((0,s.A)((0,s.A)({},p),{},{[e.target.name]:e.target.value})))(e),type:"email",className:"form-control",id:"email",placeholder:"name@example.com"})]}),(0,m.jsx)("div",{className:"d-grid gap-2",children:(0,m.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Send Link"})})]})]})})]})]})}},2939:(e,t,a)=>{a.d(t,{Iq:()=>r,Lj:()=>m,Lv:()=>c,PI:()=>g,SV:()=>l,UL:()=>h,_L:()=>o,ge:()=>d,vf:()=>i});const s=a(6749).l.injectEndpoints({endpoints:e=>({login:e.mutation({query:e=>({url:"auth/dj-rest-auth/login/",method:"POST",body:e})}),verify:e.mutation({query:e=>({url:"auth/dj-rest-auth/token/verify/",method:"POST",body:{token:e}}),invalidatesTags:["Auth"]}),getUser:e.query({query:()=>"auth/dj-rest-auth/user/",providesTags:["Auth"]}),refresh:e.mutation({query:()=>({url:"auth/dj-rest-auth/token/refresh/",method:"POST"}),invalidatesTags:["Auth"]}),changePassword:e.mutation({query:e=>({url:"auth/dj-rest-auth/password/change/",method:"POST",body:e}),invalidatesTags:["Auth"]}),logout:e.mutation({query:()=>({url:"auth/dj-rest-auth/logout/",method:"POST"}),invalidatesTags:["Auth"]}),register:e.mutation({query:e=>({url:"auth/dj-rest-auth/registration/",method:"POST",body:e}),invalidatesTags:["Auth"]}),emailVerification:e.mutation({query:e=>({url:"auth/dj-rest-auth/registration/verify-email/",method:"POST",body:{key:e}}),invalidatesTags:["Auth"]}),resetPassword:e.mutation({query:e=>({url:"auth/dj-rest-auth/password/reset/",method:"POST",body:{email:e}}),invalidatesTags:["Auth"]}),resetPasswordConfirm:e.mutation({query:e=>({url:"auth/dj-rest-auth/password/reset/confirm/",method:"POST",body:e}),invalidatesTags:["Auth"]}),googleLogin:e.mutation({query:e=>({url:"auth/dj-rest-auth/google/",method:"POST",body:{code:e}}),invalidatesTags:["Auth"]}),facebookLogin:e.mutation({query:e=>({url:"auth/dj-rest-auth/facebook/",method:"POST",body:{code:e}}),invalidatesTags:["Auth"]})})}),{useLoginMutation:o,useVerifyMutation:r,useGetUserQuery:i,useRefreshMutation:n,useChangePasswordMutation:l,useLogoutMutation:u,useRegisterMutation:d,useEmailVerificationMutation:h,useResetPasswordMutation:c,useResetPasswordConfirmMutation:m,useGoogleLoginMutation:g,useFacebookLoginMutation:p}=s},970:(e,t,a)=>{a.d(t,{A:()=>i});var s=a(9397),o=a(2134),r=a(579);const i=e=>{let{pages:t,backgroundImage:a}=e;return(0,r.jsx)("div",{className:"breadcrumb-area pt-120 pb-120 bg-gray-3 bg-img",style:{backgroundImage:" ".concat(a?"url(".concat(""+a,")"):"url()")},children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)(s.A,{children:null===t||void 0===t?void 0:t.map(((e,a)=>{let{path:i,label:n}=e;return a!==t.length-1?(0,r.jsx)(s.A.Item,{linkProps:{to:i},linkAs:o.N_,children:n},n):(0,r.jsx)(s.A.Item,{active:!0,children:n},n)}))})})})}}}]);
//# sourceMappingURL=13.69ab5c69.chunk.js.map