"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[240],{3613:(e,s,i)=>{i.d(s,{A:()=>o});var r=i(5043);var a=i(579);var l=i(3167),n=i(8684);const o=e=>{let{children:s,headerContainerClass:i,headerTop:o,headerPaddingClass:t,headerPositionClass:d}=e;return(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)(l.A,{layout:i,top:o,headerPaddingClass:t,headerPositionClass:d}),s,(0,a.jsx)(n.A,{backgroundColorClass:"footer-white",spaceLeftClass:"ml-70",spaceRightClass:"mr-70",footerTopBackgroundColorClass:"bg-gray-2",footerTopSpaceTopClass:"pt-80",footerTopSpaceBottomClass:"pb-60",copyrightColorClass:"copyright-white",footerLogo:"https://the-cage-online-assets.s3.us-west-1.amazonaws.com/build/logo_no_pad.png"})]})}},6240:(e,s,i)=>{i.r(s),i.d(s,{default:()=>N});var r=i(9379),a=i(5043),l=i(2134),n=i(3003),o=i(2821),t=i(2168),d=i(3613),c=i(970);const h=i(6749).l.injectEndpoints({endpoints:e=>({createOrder:e.mutation({query:e=>({url:"orders/add/",method:"POST",body:e}),invalidatesTags:["Order"]}),listOrderDetails:e.query({query:e=>"orders/".concat(e,"/"),providesTags:(e,s,i)=>[{type:"Order",id:i}]}),payOrder:e.mutation({query:e=>{let{id:s,paymentResult:i}=e;return{url:"orders/".concat(s,"/pay/"),method:"PUT",body:i}},invalidatesTags:(e,s,i)=>{let{id:r}=i;return[{type:"Order",id:r}]}}),deliverOrder:e.mutation({query:e=>({url:"orders/".concat(e,"/deliver/"),method:"PUT",body:{}}),invalidatesTags:(e,s,i)=>[{type:"Order",id:i}]}),listMyOrders:e.query({query:()=>"orders/myorders/",providesTags:["Order"]}),listOrders:e.query({query:()=>"orders/",providesTags:["Order"]})})}),{useCreateOrderMutation:p,useListOrderDetailsQuery:m,usePayOrderMutation:x,useDeliverOrderMutation:u,useListMyOrdersQuery:j,useListOrdersQuery:v}=h;var g=i(579);const N=()=>{let e=0,{pathname:s}=(0,l.zy)();const i=(0,l.Zp)(),h=(0,n.d4)((e=>e.currency)),{cartItems:m,shippingAddress:x}=(0,n.d4)((e=>e.cart)),[u,j]=(0,a.useState)({firstName:(null===x||void 0===x?void 0:x.firstName)||"",lastName:(null===x||void 0===x?void 0:x.lastName)||"",state:(null===x||void 0===x?void 0:x.state)||"",address:(null===x||void 0===x?void 0:x.address)||"",apartment:(null===x||void 0===x?void 0:x.apartment)||"",city:(null===x||void 0===x?void 0:x.city)||"",postcode:(null===x||void 0===x?void 0:x.postcode)||"",phone:(null===x||void 0===x?void 0:x.phone)||"",email:(null===x||void 0===x?void 0:x.email)||"",orderNotes:(null===x||void 0===x?void 0:x.orderNotes)||""}),[v,{isLoading:N,isError:b,error:y,data:f}]=p(),P={};P.itemsPrice=m.reduce(((e,s)=>e+s.price*s.qty),0).toFixed(2),P.shippingPrice=(P.itemsPrice>100?0:10).toFixed(2),P.taxPrice=Number(.082*P.itemsPrice).toFixed(2),P.totalPrice=(Number(P.itemsPrice)+Number(P.shippingPrice)+Number(P.taxPrice)).toFixed(2);const C=e=>{const{name:s,value:i}=e.target;j((0,r.A)((0,r.A)({},u),{},{[s]:i}))};return(0,g.jsxs)(a.Fragment,{children:[(0,g.jsx)(t.A,{titleTemplate:"Checkout",description:"Checkout page of The Cage SShop, vapes and smoking accessories."}),(0,g.jsxs)(d.A,{headerTop:"visible",children:[(0,g.jsx)(c.A,{pages:[{label:"Home",path:"/"},{label:"Checkout",path:""+s}],backgroundImage:"https://the-cage-online-assets.s3.us-west-1.amazonaws.com/build/breadcrumb-light.png"}),(0,g.jsx)("div",{className:"checkout-area pt-95 pb-100",children:(0,g.jsx)("div",{className:"container",children:m&&m.length>=1?(0,g.jsx)("form",{onSubmit:async e=>{e.preventDefault();try{await v({orderItems:m,shippingAddress:u,itemsPrice:P.itemsPrice,shippingPrice:P.shippingPrice,taxPrice:P.taxPrice,totalPrice:P.totalPrice}).unwrap(),i("/clover/".concat(f._id))}catch(s){console.error("Failed to create order: ",s)}},children:(0,g.jsxs)("div",{className:"row",children:[(0,g.jsx)("div",{className:"col-lg-7",children:(0,g.jsxs)("div",{className:"billing-info-wrap",children:[(0,g.jsx)("h3",{children:"Shipping Details"}),(0,g.jsxs)("div",{className:"row",children:[(0,g.jsx)("div",{className:"col-lg-6 col-md-6",children:(0,g.jsxs)("div",{className:"billing-info mb-20",children:[(0,g.jsx)("label",{children:"First Name"}),(0,g.jsx)("input",{type:"text",name:"firstName",value:u.firstName,onChange:C})]})}),(0,g.jsx)("div",{className:"col-lg-6 col-md-6",children:(0,g.jsxs)("div",{className:"billing-info mb-20",children:[(0,g.jsx)("label",{children:"Last Name"}),(0,g.jsx)("input",{type:"text",name:"lastName",value:u.lastName,onChange:C})]})}),(0,g.jsx)("div",{className:"col-lg-12",children:(0,g.jsxs)("div",{className:"billing-select mb-20",children:[(0,g.jsx)("label",{children:"State"}),(0,g.jsxs)("select",{className:"billing-select",name:"state",value:u.state,onChange:C,children:[(0,g.jsx)("option",{children:"Select a state"}),(0,g.jsx)("option",{children:"Alabama"}),(0,g.jsx)("option",{children:"Alaska"}),(0,g.jsx)("option",{children:"Arizona"}),(0,g.jsx)("option",{children:"Arkansas"}),(0,g.jsx)("option",{children:"California"}),(0,g.jsx)("option",{children:"Colorado"}),(0,g.jsx)("option",{children:"Connecticut"}),(0,g.jsx)("option",{children:"Delaware"}),(0,g.jsx)("option",{children:"Florida"}),(0,g.jsx)("option",{children:"Georgia"}),(0,g.jsx)("option",{children:"Hawaii"}),(0,g.jsx)("option",{children:"Idaho"}),(0,g.jsx)("option",{children:"Illinois"}),(0,g.jsx)("option",{children:"Indiana"}),(0,g.jsx)("option",{children:"Iowa"}),(0,g.jsx)("option",{children:"Kansas"}),(0,g.jsx)("option",{children:"Kentucky"}),(0,g.jsx)("option",{children:"Louisiana"}),(0,g.jsx)("option",{children:"Maine"}),(0,g.jsx)("option",{children:"Maryland"}),(0,g.jsx)("option",{children:"Massachusetts"}),(0,g.jsx)("option",{children:"Michigan"}),(0,g.jsx)("option",{children:"Minnesota"}),(0,g.jsx)("option",{children:"Mississippi"}),(0,g.jsx)("option",{children:"Missouri"}),(0,g.jsx)("option",{children:"Montana"}),(0,g.jsx)("option",{children:"Nebraska"}),(0,g.jsx)("option",{children:"Nevada"}),(0,g.jsx)("option",{children:"New Hampshire"}),(0,g.jsx)("option",{children:"New Jersey"}),(0,g.jsx)("option",{children:"New Mexico"}),(0,g.jsx)("option",{children:"New York"}),(0,g.jsx)("option",{children:"North Carolina"}),(0,g.jsx)("option",{children:"North Dakota"}),(0,g.jsx)("option",{children:"Ohio"}),(0,g.jsx)("option",{children:"Oklahoma"}),(0,g.jsx)("option",{children:"Oregon"}),(0,g.jsx)("option",{children:"Pennsylvania"}),(0,g.jsx)("option",{children:"Rhode Island"}),(0,g.jsx)("option",{children:"South Dakota"}),(0,g.jsx)("option",{children:"Tennessee"}),(0,g.jsx)("option",{children:"Texas"}),(0,g.jsx)("option",{children:"Utah"}),(0,g.jsx)("option",{children:"Vermount"}),(0,g.jsx)("option",{children:"Virginia"}),(0,g.jsx)("option",{children:"Washington"}),(0,g.jsx)("option",{children:"West Virgina"}),(0,g.jsx)("option",{children:"Wisconsin"}),(0,g.jsx)("option",{children:"Wyoming"}),u.state]})]})}),(0,g.jsx)("div",{className:"col-lg-12",children:(0,g.jsxs)("div",{className:"billing-info mb-20",children:[(0,g.jsx)("label",{children:"Street Address"}),(0,g.jsx)("input",{placeholder:"House number and street name",type:"text",name:"address",value:u.address,onChange:C}),(0,g.jsx)("input",{placeholder:"Apartment, suite, unit etc.",type:"text",name:"apartment",value:u.apartment,onChange:C})]})}),(0,g.jsx)("div",{className:"col-lg-12",children:(0,g.jsxs)("div",{className:"billing-info mb-20",children:[(0,g.jsx)("label",{children:"Town / City"}),(0,g.jsx)("input",{type:"text",name:"city",value:u.city,onChange:C})]})}),(0,g.jsx)("div",{className:"col-lg-6 col-md-6",children:(0,g.jsxs)("div",{className:"billing-info mb-20",children:[(0,g.jsx)("label",{children:"Postcode / ZIP"}),(0,g.jsx)("input",{type:"text",name:"postcode",value:u.postcode,onChange:C})]})}),(0,g.jsx)("div",{className:"col-lg-6 col-md-6",children:(0,g.jsxs)("div",{className:"billing-info mb-20",children:[(0,g.jsx)("label",{children:"Phone"}),(0,g.jsx)("input",{type:"text",name:"phone",value:u.phone,onChange:C})]})}),(0,g.jsx)("div",{className:"col-lg-6 col-md-6",children:(0,g.jsxs)("div",{className:"billing-info mb-20",children:[(0,g.jsx)("label",{children:"Email Address"}),(0,g.jsx)("input",{type:"text",name:"email",value:u.email,onChange:C})]})})]}),(0,g.jsxs)("div",{className:"additional-info-wrap",children:[(0,g.jsx)("h4",{children:"Additional information"}),(0,g.jsxs)("div",{className:"additional-info",children:[(0,g.jsx)("label",{children:"Order notes"}),(0,g.jsx)("textarea",{placeholder:"Notes about your order, e.g. special notes for delivery. ",name:"message",value:u.orderNotes,onChange:C})]})]})]})}),(0,g.jsx)("div",{className:"col-lg-5",children:(0,g.jsxs)("div",{className:"your-order-area",children:[(0,g.jsx)("h3",{children:"Your order"}),(0,g.jsxs)("div",{className:"your-order-wrap gray-bg-4",children:[(0,g.jsxs)("div",{className:"your-order-product-info",children:[(0,g.jsx)("div",{className:"your-order-top",children:(0,g.jsxs)("ul",{children:[(0,g.jsx)("li",{children:"Product"}),(0,g.jsx)("li",{children:"Total"})]})}),(0,g.jsx)("div",{className:"your-order-middle",children:(0,g.jsx)("ul",{children:m.map(((s,i)=>{const r=(0,o.do)(s.price,s.discount),a=(s.price*h.currencyRate).toFixed(2),l=(r*h.currencyRate).toFixed(2);return e+=null!=r?l*s.quantity:a*s.quantity,(0,g.jsxs)("li",{children:[(0,g.jsxs)("span",{className:"order-middle-left",children:[s.name," X ",s.quantity]})," ",(0,g.jsx)("span",{className:"text-color order-price",children:null!==r?h.currencySymbol+(l*s.quantity).toFixed(2):h.currencySymbol+(a*s.quantity).toFixed(2)})]},i)}))})}),(0,g.jsx)("div",{className:"your-order-bottom",children:(0,g.jsxs)("ul",{children:[(0,g.jsx)("li",{className:"your-order-shipping",children:"Shipping"}),(0,g.jsx)("li",{children:"Free shipping"})]})}),(0,g.jsx)("div",{className:"your-order-total",children:(0,g.jsxs)("ul",{children:[(0,g.jsx)("li",{className:"order-total",children:"Total"}),(0,g.jsx)("li",{children:h.currencySymbol+e.toFixed(2)})]})})]}),(0,g.jsx)("div",{className:"payment-method"})]}),(0,g.jsx)("div",{className:"place-order mt-25",children:(0,g.jsx)("button",{type:"submit",children:"Make Payment"})})]})})]})}):(0,g.jsx)("div",{className:"row",children:(0,g.jsx)("div",{className:"col-lg-12",children:(0,g.jsxs)("div",{className:"item-empty-area text-center",children:[(0,g.jsx)("div",{className:"item-empty-area__icon mb-30",children:(0,g.jsx)("i",{className:"pe-7s-cash"})}),(0,g.jsxs)("div",{className:"item-empty-area__text",children:["No items found in cart to checkout ",(0,g.jsx)("br",{})," ",(0,g.jsx)(l.N_,{to:"/shop-grid-standard",children:"Shop Now"})]})]})})})})})]})]})}},970:(e,s,i)=>{i.d(s,{A:()=>n});var r=i(9397),a=i(2134),l=i(579);const n=e=>{let{pages:s,backgroundImage:i}=e;return(0,l.jsx)("div",{className:"breadcrumb-area pt-120 pb-120 bg-gray-3 bg-img",style:{backgroundImage:" ".concat(i?"url(".concat(""+i,")"):"url()")},children:(0,l.jsx)("div",{className:"container",children:(0,l.jsx)(r.A,{children:null===s||void 0===s?void 0:s.map(((e,i)=>{let{path:n,label:o}=e;return i!==s.length-1?(0,l.jsx)(r.A.Item,{linkProps:{to:n},linkAs:a.N_,children:o},o):(0,l.jsx)(r.A.Item,{active:!0,children:o},o)}))})})})}},9397:(e,s,i)=>{i.d(s,{A:()=>j});var r=i(9379),a=i(45),l=i(8139),n=i.n(l),o=i(5043),t=i(7852),d=i(4364),c=i(579);const h=["bsPrefix","active","children","className","as","linkAs","linkProps","href","title","target"],p=o.forwardRef(((e,s)=>{let{bsPrefix:i,active:l=!1,children:o,className:p,as:m="li",linkAs:x=d.A,linkProps:u={},href:j,title:v,target:g}=e,N=(0,a.A)(e,h);const b=(0,t.oU)(i,"breadcrumb-item");return(0,c.jsx)(m,(0,r.A)((0,r.A)({ref:s},N),{},{className:n()(b,p,{active:l}),"aria-current":l?"page":void 0,children:l?o:(0,c.jsx)(x,(0,r.A)((0,r.A)({},u),{},{href:j,title:v,target:g,children:o}))}))}));p.displayName="BreadcrumbItem";const m=p,x=["bsPrefix","className","listProps","children","label","as"],u=o.forwardRef(((e,s)=>{let{bsPrefix:i,className:l,listProps:o={},children:d,label:h="breadcrumb",as:p="nav"}=e,m=(0,a.A)(e,x);const u=(0,t.oU)(i,"breadcrumb");return(0,c.jsx)(p,(0,r.A)((0,r.A)({"aria-label":h,className:l,ref:s},m),{},{children:(0,c.jsx)("ol",(0,r.A)((0,r.A)({},o),{},{className:n()(u,null==o?void 0:o.className),children:d}))}))}));u.displayName="Breadcrumb";const j=Object.assign(u,{Item:m})}}]);
//# sourceMappingURL=240.ba502e20.chunk.js.map