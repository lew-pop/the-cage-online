"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[696],{8149:(e,s,a)=>{a.d(s,{A:()=>m});var t=a(5043),o=a(2939),r=a(2134),n=a(246),l=a(3003),d=a(579);const i=e=>{const[s,a]=(0,t.useState)("alert");return(0,d.jsx)("div",{className:s,children:(0,d.jsxs)("div",{className:"d-flex",children:[(0,d.jsx)("div",{className:"toast-body",children:e.message}),(0,d.jsx)("div",{className:"button btn-close me-2 m-auto",type:"button",onClick:()=>{a("alert d-none"),e.closeAlert()}})]})})};var u=a(3167),h=a(8684),c=a(7488);a(2342);const m=e=>{let{children:s}=e,a=(0,r.zy)();const m=(0,l.wA)(),g=(0,l.d4)((e=>e.auth.userInfo)),p=(0,l.d4)((e=>e.auth.message)),w=(0,l.d4)((e=>e.auth.token)),[b]=((0,l.d4)((e=>e.auth.isAuthenticated)),(0,o.Iq)()),{data:j}=(0,o.vf)(),[y]=(0,o.PI)();return(0,t.useEffect)((()=>{const e=n.A.parse(a.search).code;e?m(y(e)):g&&m(b(w))}),[a]),(0,d.jsxs)(t.Fragment,{children:[(0,d.jsx)(u.A,{headerTop:"visible",top:"",headerPaddingClass:"",headerPositionClass:""}),(0,d.jsx)(c.N9,{position:"top-right"}),p?(0,d.jsx)(i,{message:p}):null,s,(0,d.jsx)(h.A,{backgroundColorClass:"footer-white",spaceLeftClass:"ml-70",spaceRightClass:"mr-70",footerTopBackgroundColorClass:"bg-gray-2",footerTopSpaceTopClass:"pt-80",footerTopSpaceBottomClass:"pb-60",copyrightColorClass:"copyright-white",footerLogo:"https://the-cage-online-assets.s3.us-west-1.amazonaws.com/build/logo_no_pad.png"})]})}},7158:(e,s,a)=>{a.r(s),a.d(s,{default:()=>m});var t=a(9379),o=a(5043),r=a(2134),n=a(3003),l=a(3519),d=a(2168),i=a(8149),u=a(970),h=a(2939),c=a(579);const m=()=>{const{pathname:e}=(0,r.zy)(),s=(0,n.d4)((e=>e.auth.isAuthenticated)),[a,m]=(0,o.useState)({new_password1:"",new_password2:"",old_password:""}),[g]=(0,h.SV)(),{new_password1:p,new_password2:w,old_password:b}=a,j=e=>m((0,t.A)((0,t.A)({},a),{},{[e.target.name]:e.target.value}));return s||localStorage.getItem("access")?(0,c.jsxs)(o.Fragment,{children:[(0,c.jsx)(d.A,{titleTemplate:"Change Password",description:"Change Password page of The Cage SShop Online | Vape and Smoke Accessories."}),(0,c.jsxs)(i.A,{headerTop:"visible",children:[(0,c.jsx)(u.A,{pages:[{label:"Home",path:"/"},{label:"Change Password",path:""+e}],backgroundImage:"https://the-cage-online-assets.s3.us-west-1.amazonaws.com/build/breadcrumb-light.png"}),(0,c.jsx)(l.A,{className:"py-4 login-form-container",children:(0,c.jsxs)("div",{className:"main-box",children:[(0,c.jsx)("h2",{className:"text-center mb-4",children:"Change Password"}),(0,c.jsxs)("form",{className:"mb-3",onSubmit:e=>(async e=>{e.preventDefault();try{const e=await g(a).unwrap();console.log("User Login Success!!",e)}catch(s){console.error("Failed to login:",s)}})(e),children:[(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{htmlFor:"new_password1",className:"form-label",children:"New Password"}),(0,c.jsx)("input",{name:"new_password1",value:p,onChange:e=>j(e),type:"password",className:"form-control",id:"new_password1",placeholder:"New password ..."})]}),(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{htmlFor:"new_password2",className:"form-label",children:"Re New Password"}),(0,c.jsx)("input",{name:"new_password2",value:w,onChange:e=>j(e),type:"password",className:"form-control",id:"new_password2",placeholder:"Re new password ..."})]}),(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{htmlFor:"old_password",className:"form-label",children:"Old Password"}),(0,c.jsx)("input",{name:"old_password",value:b,onChange:e=>j(e),type:"password",className:"form-control",id:"old_password",placeholder:"Old password ..."})]}),(0,c.jsx)("div",{className:"d-grid gap-2",children:(0,c.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Change Password"})})]})]})})]})]}):(0,c.jsx)(r.C5,{to:"../login"})}},2939:(e,s,a)=>{a.d(s,{Iq:()=>r,Lj:()=>m,Lv:()=>c,PI:()=>g,SV:()=>d,UL:()=>h,_L:()=>o,ge:()=>u,vf:()=>n});const t=a(6749).l.injectEndpoints({endpoints:e=>({login:e.mutation({query:e=>({url:"auth/dj-rest-auth/login/",method:"POST",body:e})}),verify:e.mutation({query:e=>({url:"auth/dj-rest-auth/token/verify/",method:"POST",body:{token:e}}),invalidatesTags:["Auth"]}),getUser:e.query({query:()=>"auth/dj-rest-auth/user/",providesTags:["Auth"]}),refresh:e.mutation({query:()=>({url:"auth/dj-rest-auth/token/refresh/",method:"POST"}),invalidatesTags:["Auth"]}),changePassword:e.mutation({query:e=>({url:"auth/dj-rest-auth/password/change/",method:"POST",body:e}),invalidatesTags:["Auth"]}),logout:e.mutation({query:()=>({url:"auth/dj-rest-auth/logout/",method:"POST"}),invalidatesTags:["Auth"]}),register:e.mutation({query:e=>({url:"auth/dj-rest-auth/registration/",method:"POST",body:e}),invalidatesTags:["Auth"]}),emailVerification:e.mutation({query:e=>({url:"auth/dj-rest-auth/registration/verify-email/",method:"POST",body:{key:e}}),invalidatesTags:["Auth"]}),resetPassword:e.mutation({query:e=>({url:"auth/dj-rest-auth/password/reset/",method:"POST",body:{email:e}}),invalidatesTags:["Auth"]}),resetPasswordConfirm:e.mutation({query:e=>({url:"auth/dj-rest-auth/password/reset/confirm/",method:"POST",body:e}),invalidatesTags:["Auth"]}),googleLogin:e.mutation({query:e=>({url:"auth/dj-rest-auth/google/",method:"POST",body:{code:e}}),invalidatesTags:["Auth"]}),facebookLogin:e.mutation({query:e=>({url:"auth/dj-rest-auth/facebook/",method:"POST",body:{code:e}}),invalidatesTags:["Auth"]})})}),{useLoginMutation:o,useVerifyMutation:r,useGetUserQuery:n,useRefreshMutation:l,useChangePasswordMutation:d,useLogoutMutation:i,useRegisterMutation:u,useEmailVerificationMutation:h,useResetPasswordMutation:c,useResetPasswordConfirmMutation:m,useGoogleLoginMutation:g,useFacebookLoginMutation:p}=t},970:(e,s,a)=>{a.d(s,{A:()=>n});var t=a(9397),o=a(2134),r=a(579);const n=e=>{let{pages:s,backgroundImage:a}=e;return(0,r.jsx)("div",{className:"breadcrumb-area pt-120 pb-120 bg-gray-3 bg-img",style:{backgroundImage:" ".concat(a?"url(".concat(""+a,")"):"url()")},children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)(t.A,{children:null===s||void 0===s?void 0:s.map(((e,a)=>{let{path:n,label:l}=e;return a!==s.length-1?(0,r.jsx)(t.A.Item,{linkProps:{to:n},linkAs:o.N_,children:l},l):(0,r.jsx)(t.A.Item,{active:!0,children:l},l)}))})})})}}}]);
//# sourceMappingURL=696.527a6865.chunk.js.map