"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[952],{3295:(e,a,s)=>{s(5043),s(579)},7491:(e,a,s)=>{s.d(a,{A:()=>o});s(5043);var t=s(7417),r=s(579);const o=function(){return(0,r.jsx)(t.A,{animation:"grow",size:"sm",role:"status",style:{height:"100px",width:"100px",margin:"auto",display:"block",backgroundColor:"#7c65a9"},children:(0,r.jsx)("span",{className:"sr-only",children:"Loading..."})})}},5505:(e,a,s)=>{s.d(a,{A:()=>o});s(5043);var t=s(3590),r=s(579);const o=function(e){let{variant:a,children:s}=e;return(0,r.jsx)(t.A,{variant:a,style:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",zIndex:1e3,minWidth:"300px",textAlign:"center"},children:s})}},8149:(e,a,s)=>{s.d(a,{A:()=>h});var t=s(5043),r=s(2939),o=s(2134),n=s(246),i=s(3003),l=s(579);const d=e=>{const[a,s]=(0,t.useState)("alert");return(0,l.jsx)("div",{className:a,children:(0,l.jsxs)("div",{className:"d-flex",children:[(0,l.jsx)("div",{className:"toast-body",children:e.message}),(0,l.jsx)("div",{className:"button btn-close me-2 m-auto",type:"button",onClick:()=>{s("alert d-none"),e.closeAlert()}})]})})};var u=s(3167),c=s(8684),m=s(7488);s(2342);const h=e=>{let{children:a}=e,s=(0,o.zy)();const h=(0,i.wA)(),g=(0,i.d4)((e=>e.auth.userInfo)),p=(0,i.d4)((e=>e.auth.message)),x=(0,i.d4)((e=>e.auth.token)),[f]=((0,i.d4)((e=>e.auth.isAuthenticated)),(0,r.Iq)()),{data:j}=(0,r.vf)(),[b]=(0,r.PI)();return(0,t.useEffect)((()=>{const e=n.A.parse(s.search).code;e?h(b(e)):g&&h(f(x))}),[s]),(0,l.jsxs)(t.Fragment,{children:[(0,l.jsx)(u.A,{headerTop:"visible",top:"",headerPaddingClass:"",headerPositionClass:""}),(0,l.jsx)(m.N9,{position:"top-right"}),p?(0,l.jsx)(d,{message:p}):null,a,(0,l.jsx)(c.A,{backgroundColorClass:"footer-white",spaceLeftClass:"ml-70",spaceRightClass:"mr-70",footerTopBackgroundColorClass:"bg-gray-2",footerTopSpaceTopClass:"pt-80",footerTopSpaceBottomClass:"pb-60",copyrightColorClass:"copyright-white",footerLogo:"https://the-cage-online-assets.s3.us-west-1.amazonaws.com/build/logo_no_pad.png"})]})}},3390:(e,a,s)=>{s.r(a),s.d(a,{default:()=>p});var t=s(9379),r=s(5043),o=s(2134),n=s(3003),i=(s(87),s(3519)),l=s(7491),d=s(5505),u=(s(3295),s(2168)),c=s(8149),m=s(970),h=s(2939),g=s(579);const p=()=>{var e;const{pathname:a}=(0,o.zy)(),s=(0,o.Zp)(),[p,{isLoading:x,error:f,isError:j}]=((0,n.wA)(),(0,h.ge)()),[b,v]=(0,r.useState)(""),[y,A]=(0,r.useState)(""),[w,N]=(0,r.useState)(!1),[T,k]=(0,r.useState)(!1),[C,P]=(0,r.useState)({email:"",first_name:"",last_name:"",password1:"",password2:""}),{email:S,first_name:L,last_name:q,password1:_,password2:I}=C,O=(0,n.d4)((e=>e.auth.userInfo));(0,r.useEffect)((()=>{O&&s("/")}),[O,s]);const R=e=>P((0,t.A)((0,t.A)({},C),{},{[e.target.name]:e.target.value}));return w?(0,g.jsxs)("div",{children:[y&&(0,g.jsx)(d.A,{variant:"info",children:y}),T&&s("/login")]}):(0,g.jsxs)(r.Fragment,{children:[(0,g.jsx)(u.A,{titleTemplate:"Register",description:"Register page of The Cage SShop Online | Vape and Smoke Accessories."}),(0,g.jsxs)(c.A,{headerTop:"visible",children:[(0,g.jsx)(m.A,{pages:[{label:"Home",path:"/"},{label:"Register",path:""+a}],backgroundImage:"https://the-cage-online-assets.s3.us-west-1.amazonaws.com/build/breadcrumb-light.png"}),(0,g.jsxs)(i.A,{className:"py-4 login-form-container",children:[y&&(0,g.jsx)(d.A,{variant:y.includes("Check your email")?"success":"danger",children:y}),j&&(0,g.jsx)(d.A,{variant:"danger",children:(null===f||void 0===f||null===(e=f.data)||void 0===e?void 0:e.detail)||f.error}),x?(0,g.jsx)("div",{className:"main-box d-flex justify-content-center align-items-center",children:(0,g.jsx)(l.A,{})}):(0,g.jsxs)("div",{className:"main-box",children:[(0,g.jsx)("h2",{className:"text-center mb-4",children:"Register"}),(0,g.jsxs)("form",{className:"mb-3",onSubmit:e=>(async e=>{e.preventDefault();try{const e=await p(C).unwrap();A("Check your email for a confirmation link!"),console.log("User Registered Successfully!!",e)}catch(a){console.error("Failed to register:",a),A("Registration failed. Please try again.")}N(!0),setTimeout((()=>{k(!0)}),2e3)})(e),children:[(0,g.jsxs)("div",{className:"mb-3",children:[(0,g.jsx)("label",{htmlFor:"first_name",className:"form-label",children:"First Name"}),(0,g.jsx)("input",{name:"first_name",value:L,onChange:e=>R(e),type:"text",className:"form-control",id:"first_name",placeholder:"First name ..."})]}),(0,g.jsxs)("div",{className:"mb-3",children:[(0,g.jsx)("label",{htmlFor:"last_name",className:"form-label",children:"Last Name"}),(0,g.jsx)("input",{name:"last_name",value:q,onChange:e=>R(e),type:"text",className:"form-control",id:"last_name",placeholder:"Last name ..."})]}),(0,g.jsxs)("div",{className:"mb-3",children:[(0,g.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),(0,g.jsx)("input",{name:"email",value:S,onChange:e=>R(e),type:"email",className:"form-control",id:"email",placeholder:"name@example.com"})]}),(0,g.jsxs)("div",{className:"mb-3",children:[(0,g.jsx)("label",{htmlFor:"password1",className:"form-label",children:"Password"}),(0,g.jsx)("input",{name:"password1",value:_,onChange:e=>R(e),type:"password",className:"form-control",id:"password1",placeholder:"Password ..."})]}),(0,g.jsxs)("div",{className:"mb-3",children:[(0,g.jsx)("label",{htmlFor:"password2",className:"form-label",children:"Password"}),(0,g.jsx)("input",{name:"password2",value:I,onChange:e=>R(e),type:"password",className:"form-control",id:"password2",placeholder:"Password ..."})]}),(0,g.jsx)("div",{className:"d-grid gap-2",children:(0,g.jsx)("button",{className:"btn login-button",type:"submit",children:"Register"})})]}),(0,g.jsxs)("p",{className:"text-light",children:["Already have an account? ",(0,g.jsx)(o.N_,{className:"login-link",to:"../login/",children:"Login"})]})]})]})]})]})}},2939:(e,a,s)=>{s.d(a,{Iq:()=>o,Lj:()=>h,Lv:()=>m,PI:()=>g,SV:()=>l,UL:()=>c,_L:()=>r,ge:()=>u,vf:()=>n});const t=s(6749).l.injectEndpoints({endpoints:e=>({login:e.mutation({query:e=>({url:"auth/dj-rest-auth/login/",method:"POST",body:e})}),verify:e.mutation({query:e=>({url:"auth/dj-rest-auth/token/verify/",method:"POST",body:{token:e}}),invalidatesTags:["Auth"]}),getUser:e.query({query:()=>"auth/dj-rest-auth/user/",providesTags:["Auth"]}),refresh:e.mutation({query:()=>({url:"auth/dj-rest-auth/token/refresh/",method:"POST"}),invalidatesTags:["Auth"]}),changePassword:e.mutation({query:e=>({url:"auth/dj-rest-auth/password/change/",method:"POST",body:e}),invalidatesTags:["Auth"]}),logout:e.mutation({query:()=>({url:"auth/dj-rest-auth/logout/",method:"POST"}),invalidatesTags:["Auth"]}),register:e.mutation({query:e=>({url:"auth/dj-rest-auth/registration/",method:"POST",body:e}),invalidatesTags:["Auth"]}),emailVerification:e.mutation({query:e=>({url:"auth/dj-rest-auth/registration/verify-email/",method:"POST",body:{key:e}}),invalidatesTags:["Auth"]}),resetPassword:e.mutation({query:e=>({url:"auth/dj-rest-auth/password/reset/",method:"POST",body:{email:e}}),invalidatesTags:["Auth"]}),resetPasswordConfirm:e.mutation({query:e=>({url:"auth/dj-rest-auth/password/reset/confirm/",method:"POST",body:e}),invalidatesTags:["Auth"]}),googleLogin:e.mutation({query:e=>({url:"auth/dj-rest-auth/google/",method:"POST",body:{code:e}}),invalidatesTags:["Auth"]}),facebookLogin:e.mutation({query:e=>({url:"auth/dj-rest-auth/facebook/",method:"POST",body:{code:e}}),invalidatesTags:["Auth"]})})}),{useLoginMutation:r,useVerifyMutation:o,useGetUserQuery:n,useRefreshMutation:i,useChangePasswordMutation:l,useLogoutMutation:d,useRegisterMutation:u,useEmailVerificationMutation:c,useResetPasswordMutation:m,useResetPasswordConfirmMutation:h,useGoogleLoginMutation:g,useFacebookLoginMutation:p}=t},970:(e,a,s)=>{s.d(a,{A:()=>n});var t=s(9397),r=s(2134),o=s(579);const n=e=>{let{pages:a,backgroundImage:s}=e;return(0,o.jsx)("div",{className:"breadcrumb-area pt-120 pb-120 bg-gray-3 bg-img",style:{backgroundImage:" ".concat(s?"url(".concat(""+s,")"):"url()")},children:(0,o.jsx)("div",{className:"container",children:(0,o.jsx)(t.A,{children:null===a||void 0===a?void 0:a.map(((e,s)=>{let{path:n,label:i}=e;return s!==a.length-1?(0,o.jsx)(t.A.Item,{linkProps:{to:n},linkAs:r.N_,children:i},i):(0,o.jsx)(t.A.Item,{active:!0,children:i},i)}))})})})}}}]);
//# sourceMappingURL=952.9fa9f7e6.chunk.js.map